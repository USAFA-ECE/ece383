<!DOCTYPE html>
<html>
<head>
    <title>Sine Wave Generator</title>
    <style>
        .channel-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        .channel {
            flex: 1 1 300px;
            min-width: 300px;
        }
    </style>
</head>
<body>
    <div class="channel-container">
        <div class="channel">
            <h2>Left Channel</h2>
            <label for="leftFrequency">Frequency (Hz):</label>
            <input type="range" id="leftFrequency" min="20" max="2000" value="440" step="1">
            <span id="leftFreqValue">440</span> Hz
            <br>
            <label for="leftWaveform">Waveform:</label>
            <select id="leftWaveform">
                <option value="sine">Sine</option>
                <option value="square">Square</option>
                <option value="sawtooth">Sawtooth</option>
            </select>
            <br>
            <label for="leftVolume">Volume:</label>
            <input type="range" id="leftVolume" min="0" max="1" value="0.5" step="0.01">
            <br>
            <label for="leftEnable">Enable Output:</label>
            <input type="checkbox" id="leftEnable">
        </div>

        <div class="channel">
            <h2>Right Channel</h2>
            <label for="rightFrequency">Frequency (Hz):</label>
            <input type="range" id="rightFrequency" min="20" max="2000" value="440" step="1">
            <span id="rightFreqValue">440</span> Hz
            <br>
            <label for="rightWaveform">Waveform:</label>
            <select id="rightWaveform">
                <option value="sine">Sine</option>
                <option value="square">Square</option>
                <option value="sawtooth">Sawtooth</option>
            </select>
            <br>
            <label for="rightVolume">Volume:</label>
            <input type="range" id="rightVolume" min="0" max="1" value="0.5" step="0.01">
            <br>
            <label for="rightEnable">Enable Output:</label>
            <input type="checkbox" id="rightEnable">
        </div>
    </div>

    <script>
        let audioContext = new (window.AudioContext || window.webkitAudioContext)();
        let leftOscillator = audioContext.createOscillator();
        let rightOscillator = audioContext.createOscillator();
        let leftGain = audioContext.createGain();
        let rightGain = audioContext.createGain();

        // Connect oscillators to gain nodes and the audio context
        leftOscillator.connect(leftGain).connect(audioContext.destination);
        rightOscillator.connect(rightGain).connect(audioContext.destination);

        leftOscillator.type = document.getElementById('leftWaveform').value;
        rightOscillator.type = document.getElementById('rightWaveform').value;

        leftOscillator.frequency.setValueAtTime(document.getElementById('leftFrequency').value, audioContext.currentTime);
        rightOscillator.frequency.setValueAtTime(document.getElementById('rightFrequency').value, audioContext.currentTime);

        leftGain.gain.setValueAtTime(document.getElementById('leftVolume').value, audioContext.currentTime);
        rightGain.gain.setValueAtTime(document.getElementById('rightVolume').value, audioContext.currentTime);

        leftOscillator.start();
        rightOscillator.start();

        // Update frequency display
        document.getElementById('leftFrequency').addEventListener('input', (e) => {
            document.getElementById('leftFreqValue').textContent = e.target.value;
            leftOscillator.frequency.setValueAtTime(e.target.value, audioContext.currentTime);
        });

        document.getElementById('rightFrequency').addEventListener('input', (e) => {
            document.getElementById('rightFreqValue').textContent = e.target.value;
            rightOscillator.frequency.setValueAtTime(e.target.value, audioContext.currentTime);
        });

        // Update waveform
        document.getElementById('leftWaveform').addEventListener('change', (e) => {
            leftOscillator.type = e.target.value;
        });

        document.getElementById('rightWaveform').addEventListener('change', (e) => {
            rightOscillator.type = e.target.value;
        });

        // Update volume
        document.getElementById('leftVolume').addEventListener('input', (e) => {
            leftGain.gain.setValueAtTime(e.target.value, audioContext.currentTime);
        });

        document.getElementById('rightVolume').addEventListener('input', (e) => {
            rightGain.gain.setValueAtTime(e.target.value, audioContext.currentTime);
        });

        // Enable/disable output
        document.getElementById('leftEnable').addEventListener('change', (e) => {
            leftGain.gain.setValueAtTime(e.target.checked ? document.getElementById('leftVolume').value : 0, audioContext.currentTime);
        });

        document.getElementById('rightEnable').addEventListener('change', (e) => {
            rightGain.gain.setValueAtTime(e.target.checked ? document.getElementById('rightVolume').value : 0, audioContext.currentTime);
        });
    </script>
</body>
</html>
